



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Justin Miranda">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.5">
    
    
      
        <title>Ubuntu 16.04 - OpenBoxes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#installing_openboxes_on_ubuntu_1604" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../user-guide/" title="OpenBoxes" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OpenBoxes
              </span>
              <span class="md-header-nav__topic">
                Ubuntu 16.04
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/openboxes/openboxes/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../user-guide/" title="OpenBoxes" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    OpenBoxes
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/openboxes/openboxes/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="https://openboxes.com/features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/benefits/" title="Benefits" class="md-nav__link">
      Benefits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/considerations/" title="Considerations" class="md-nav__link">
      Considerations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/release-notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2">
      Ubuntu
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2">
        Ubuntu
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-1" type="checkbox" id="nav-2-2-1">
    
    <label class="md-nav__link" for="nav-2-2-1">
      Ubuntu 18.04
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-2-1">
        Ubuntu 18.04
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/hosting/" title="Hosting" class="md-nav__link">
      Hosting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/ubuntu/" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/java/" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/tomcat/" title="Tomcat" class="md-nav__link">
      Tomcat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/mysql/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/apache/" title="Apache" class="md-nav__link">
      Apache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1804/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Ubuntu 16.04
      </label>
    
    <a href="./" title="Ubuntu 16.04" class="md-nav__link md-nav__link--active">
      Ubuntu 16.04
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1_check_requirements" title="1. Check Requirements" class="md-nav__link">
    1. Check Requirements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system_requirements" title="System Requirements" class="md-nav__link">
    System Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software_requirements" title="Software Requirements" class="md-nav__link">
    Software Requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_choose_where_to_install" title="2. Choose where to install" class="md-nav__link">
    2. Choose where to install
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloud" title="Cloud" class="md-nav__link">
    Cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise" title="On-Premise" class="md-nav__link">
    On-Premise
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_install_dependencies" title="3. Install dependencies" class="md-nav__link">
    3. Install dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_update_package_information" title="3.1 Update package information" class="md-nav__link">
    3.1 Update package information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32_upgrade_packages_already_installed" title="3.2 Upgrade packages already installed" class="md-nav__link">
    3.2 Upgrade packages already installed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_install_java_7" title="3.3 Install Java 7" class="md-nav__link">
    3.3 Install Java 7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose_your_choice" title="Choose your choice" class="md-nav__link">
    Choose your choice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_java_version" title="Configure Java version" class="md-nav__link">
    Configure Java version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check_java_version" title="Check Java version" class="md-nav__link">
    Check Java version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34_tomcat" title="3.4 Tomcat" class="md-nav__link">
    3.4 Tomcat
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install_tomcat_7" title="Install Tomcat 7" class="md-nav__link">
    Install Tomcat 7
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting_started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_and_unpack" title="Download and unpack" class="md-nav__link">
    Download and unpack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_user_group_and_change_permissions" title="Create user, group and change permissions" class="md-nav__link">
    Create user, group and change permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_service" title="Create service" class="md-nav__link">
    Create service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register_service" title="Register service" class="md-nav__link">
    Register service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start_tomcat" title="Start Tomcat" class="md-nav__link">
    Start Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemctl_commands" title="Systemctl commands" class="md-nav__link">
    Systemctl commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service_wrapper" title="Service wrapper" class="md-nav__link">
    Service wrapper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_tomcat_manager_optional" title="Configure Tomcat manager (optional)" class="md-nav__link">
    Configure Tomcat manager (optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35_mysql" title="3.5 MySQL" class="md-nav__link">
    3.5 MySQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install_mysql_server" title="Install MySQL Server" class="md-nav__link">
    Install MySQL Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_mysql_server" title="Configure MySQL Server" class="md-nav__link">
    Configure MySQL Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allow_external_connections_optional" title="Allow external connections [optional]" class="md-nav__link">
    Allow external connections [optional]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#this_is_incompatible_with_sql_modeonly_full_group_by_recommended" title="This is incompatible with sql_mode=only_full_group_by [recommended]" class="md-nav__link">
    This is incompatible with sql_mode=only_full_group_by [recommended]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart_mysql" title="Restart MySQL" class="md-nav__link">
    Restart MySQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_database" title="Create database" class="md-nav__link">
    Create database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant_permissions_to_new_new_database_user" title="Grant permissions to new new database user" class="md-nav__link">
    Grant permissions to new new database user
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36_configure_environment" title="3.6 Configure Environment" class="md-nav__link">
    3.6 Configure Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37_configure_application" title="3.7 Configure application" class="md-nav__link">
    3.7 Configure application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_openboxes-configproperties_file" title="Create openboxes-config.properties file" class="md-nav__link">
    Create openboxes-config.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_the_following_contents_into_opneboxes-configproperties" title="Copy the following contents into opneboxes-config.properties" class="md-nav__link">
    Copy the following contents into opneboxes-config.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38_deployment" title="3.8 Deployment" class="md-nav__link">
    3.8 Deployment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stop_tomcat" title="Stop tomcat" class="md-nav__link">
    Stop tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_latest_release" title="Download latest release" class="md-nav__link">
    Download latest release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_war_file_to_webapps" title="Copy WAR file to webapps" class="md-nav__link">
    Copy WAR file to webapps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change_file_ownership" title="Change file ownership" class="md-nav__link">
    Change file ownership
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart_tomcat" title="Restart Tomcat" class="md-nav__link">
    Restart Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#watch_tomcat_logs" title="Watch Tomcat logs" class="md-nav__link">
    Watch Tomcat logs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#39_troubleshooting" title="3.9 Troubleshooting" class="md-nav__link">
    3.9 Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unable_to_load_specified_config_location" title="Unable to load specified config location" class="md-nav__link">
    Unable to load specified config location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java_outofmemoryerror" title="Java OutOfMemoryError" class="md-nav__link">
    Java OutOfMemoryError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#out_of_memory_killed_process_31088_java" title="Out of Memory: Killed process 31088 (java)" class="md-nav__link">
    Out of Memory: Killed process 31088 (java)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#javaiofilenotfoundexception_stacktracelog_permission_denied" title="java.io.FileNotFoundException: stacktrace.log (Permission denied)" class="md-nav__link">
    java.io.FileNotFoundException: stacktrace.log (Permission denied)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#could_not_connect_to_smtp_host_localhost_port_25" title="Could not connect to SMTP host: localhost, port: 25;" class="md-nav__link">
    Could not connect to SMTP host: localhost, port: 25;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysqlsyntaxerrorexception_unknown_column_this_created_by_id_in_field_list" title="MySQLSyntaxErrorException: Unknown column 'this_.created_by_id' in 'field list'" class="md-nav__link">
    MySQLSyntaxErrorException: Unknown column 'this_.created_by_id' in 'field list'
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu1404/" title="Ubuntu 14.04" class="md-nav__link">
      Ubuntu 14.04
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../macos/" title="Mac OS" class="md-nav__link">
      Mac OS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../upgrading/" title="Upgrading" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/configuration/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/ajp/" title="Tomcat AJP" class="md-nav__link">
      Tomcat AJP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/https/" title="Apache HTTPS" class="md-nav__link">
      Apache HTTPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/database/" title="Database Connection" class="md-nav__link">
      Database Connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/email/" title="Email" class="md-nav__link">
      Email
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/application/" title="OpenBoxes" class="md-nav__link">
      OpenBoxes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/example/" title="Example" class="md-nav__link">
      Example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../user-guide/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Developers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Developers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/syncing-a-fork/" title="Syncing a Fork" class="md-nav__link">
      Syncing a Fork
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../developer-guide/tagging/" title="Tagging a Release" class="md-nav__link">
      Tagging a Release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6" type="checkbox" id="nav-5-6">
    
    <label class="md-nav__link" for="nav-5-6">
      REST API Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="7">
      <label class="md-nav__title" for="nav-5-6">
        REST API Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/generic/" title="Generic API" class="md-nav__link">
      Generic API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6-4" type="checkbox" id="nav-5-6-4">
    
    <label class="md-nav__link" for="nav-5-6-4">
      Custom API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="11">
      <label class="md-nav__title" for="nav-5-6-4">
        Custom API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6-4-1" type="checkbox" id="nav-5-6-4-1">
    
    <label class="md-nav__link" for="nav-5-6-4-1">
      Core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="12">
      <label class="md-nav__title" for="nav-5-6-4-1">
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/identifier/" title="Identifiers" class="md-nav__link">
      Identifiers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/internalLocation/" title="Internal Locations" class="md-nav__link">
      Internal Locations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/localization/" title="Localizations" class="md-nav__link">
      Localizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/location/" title="Locations" class="md-nav__link">
      Locations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/lookup/" title="Lookup" class="md-nav__link">
      Lookup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6-4-2" type="checkbox" id="nav-5-6-4-2">
    
    <label class="md-nav__link" for="nav-5-6-4-2">
      Products
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="13">
      <label class="md-nav__title" for="nav-5-6-4-2">
        Products
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/category/" title="Categories" class="md-nav__link">
      Categories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/product/" title="Products" class="md-nav__link">
      Products
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-6-4-3" type="checkbox" id="nav-5-6-4-3">
    
    <label class="md-nav__link" for="nav-5-6-4-3">
      Stock Movements
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="14">
      <label class="md-nav__title" for="nav-5-6-4-3">
        Stock Movements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/stockMovement/" title="Stock Movement" class="md-nav__link">
      Stock Movement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/stockMovementItem/" title="Stock Movement Item" class="md-nav__link">
      Stock Movement Item
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/stockMovementStatus/" title="Stock Movement Status" class="md-nav__link">
      Stock Movement Status
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/putaway/" title="Putaway" class="md-nav__link">
      Putaway
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-guide/receiving/" title="Receiving" class="md-nav__link">
      Receiving
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1_check_requirements" title="1. Check Requirements" class="md-nav__link">
    1. Check Requirements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system_requirements" title="System Requirements" class="md-nav__link">
    System Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software_requirements" title="Software Requirements" class="md-nav__link">
    Software Requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_choose_where_to_install" title="2. Choose where to install" class="md-nav__link">
    2. Choose where to install
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloud" title="Cloud" class="md-nav__link">
    Cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-premise" title="On-Premise" class="md-nav__link">
    On-Premise
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_install_dependencies" title="3. Install dependencies" class="md-nav__link">
    3. Install dependencies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_update_package_information" title="3.1 Update package information" class="md-nav__link">
    3.1 Update package information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32_upgrade_packages_already_installed" title="3.2 Upgrade packages already installed" class="md-nav__link">
    3.2 Upgrade packages already installed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33_install_java_7" title="3.3 Install Java 7" class="md-nav__link">
    3.3 Install Java 7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose_your_choice" title="Choose your choice" class="md-nav__link">
    Choose your choice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_java_version" title="Configure Java version" class="md-nav__link">
    Configure Java version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check_java_version" title="Check Java version" class="md-nav__link">
    Check Java version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34_tomcat" title="3.4 Tomcat" class="md-nav__link">
    3.4 Tomcat
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install_tomcat_7" title="Install Tomcat 7" class="md-nav__link">
    Install Tomcat 7
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting_started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_and_unpack" title="Download and unpack" class="md-nav__link">
    Download and unpack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_user_group_and_change_permissions" title="Create user, group and change permissions" class="md-nav__link">
    Create user, group and change permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_service" title="Create service" class="md-nav__link">
    Create service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register_service" title="Register service" class="md-nav__link">
    Register service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start_tomcat" title="Start Tomcat" class="md-nav__link">
    Start Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemctl_commands" title="Systemctl commands" class="md-nav__link">
    Systemctl commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service_wrapper" title="Service wrapper" class="md-nav__link">
    Service wrapper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_tomcat_manager_optional" title="Configure Tomcat manager (optional)" class="md-nav__link">
    Configure Tomcat manager (optional)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35_mysql" title="3.5 MySQL" class="md-nav__link">
    3.5 MySQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install_mysql_server" title="Install MySQL Server" class="md-nav__link">
    Install MySQL Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_mysql_server" title="Configure MySQL Server" class="md-nav__link">
    Configure MySQL Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allow_external_connections_optional" title="Allow external connections [optional]" class="md-nav__link">
    Allow external connections [optional]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#this_is_incompatible_with_sql_modeonly_full_group_by_recommended" title="This is incompatible with sql_mode=only_full_group_by [recommended]" class="md-nav__link">
    This is incompatible with sql_mode=only_full_group_by [recommended]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart_mysql" title="Restart MySQL" class="md-nav__link">
    Restart MySQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_database" title="Create database" class="md-nav__link">
    Create database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant_permissions_to_new_new_database_user" title="Grant permissions to new new database user" class="md-nav__link">
    Grant permissions to new new database user
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36_configure_environment" title="3.6 Configure Environment" class="md-nav__link">
    3.6 Configure Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37_configure_application" title="3.7 Configure application" class="md-nav__link">
    3.7 Configure application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_openboxes-configproperties_file" title="Create openboxes-config.properties file" class="md-nav__link">
    Create openboxes-config.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_the_following_contents_into_opneboxes-configproperties" title="Copy the following contents into opneboxes-config.properties" class="md-nav__link">
    Copy the following contents into opneboxes-config.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38_deployment" title="3.8 Deployment" class="md-nav__link">
    3.8 Deployment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stop_tomcat" title="Stop tomcat" class="md-nav__link">
    Stop tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#download_latest_release" title="Download latest release" class="md-nav__link">
    Download latest release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_war_file_to_webapps" title="Copy WAR file to webapps" class="md-nav__link">
    Copy WAR file to webapps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change_file_ownership" title="Change file ownership" class="md-nav__link">
    Change file ownership
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart_tomcat" title="Restart Tomcat" class="md-nav__link">
    Restart Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#watch_tomcat_logs" title="Watch Tomcat logs" class="md-nav__link">
    Watch Tomcat logs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#39_troubleshooting" title="3.9 Troubleshooting" class="md-nav__link">
    3.9 Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unable_to_load_specified_config_location" title="Unable to load specified config location" class="md-nav__link">
    Unable to load specified config location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java_outofmemoryerror" title="Java OutOfMemoryError" class="md-nav__link">
    Java OutOfMemoryError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#out_of_memory_killed_process_31088_java" title="Out of Memory: Killed process 31088 (java)" class="md-nav__link">
    Out of Memory: Killed process 31088 (java)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#javaiofilenotfoundexception_stacktracelog_permission_denied" title="java.io.FileNotFoundException: stacktrace.log (Permission denied)" class="md-nav__link">
    java.io.FileNotFoundException: stacktrace.log (Permission denied)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#could_not_connect_to_smtp_host_localhost_port_25" title="Could not connect to SMTP host: localhost, port: 25;" class="md-nav__link">
    Could not connect to SMTP host: localhost, port: 25;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysqlsyntaxerrorexception_unknown_column_this_created_by_id_in_field_list" title="MySQLSyntaxErrorException: Unknown column 'this_.created_by_id' in 'field list'" class="md-nav__link">
    MySQLSyntaxErrorException: Unknown column 'this_.created_by_id' in 'field list'
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/openboxes/openboxes/edit/master/docs/installation/ubuntu1604.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="installing_openboxes_on_ubuntu_1604">Installing OpenBoxes on Ubuntu 16.04<a class="headerlink" href="#installing_openboxes_on_ubuntu_1604" title="Permanent link">#</a></h1>
<h2 id="1_check_requirements">1. Check Requirements<a class="headerlink" href="#1_check_requirements" title="Permanent link">#</a></h2>
<h3 id="system_requirements">System Requirements<a class="headerlink" href="#system_requirements" title="Permanent link">#</a></h3>
<ul>
<li>Internet connection (recommended)</li>
<li>2GB RAM (minimum)</li>
<li>25GB disk storage (minimum)</li>
</ul>
<h3 id="software_requirements">Software Requirements<a class="headerlink" href="#software_requirements" title="Permanent link">#</a></h3>
<ul>
<li>Ubuntu 16.04 LTS </li>
<li>Java 7 </li>
<li>Tomcat 7</li>
<li>MySQL 5.7+ </li>
<li>SMTP service</li>
</ul>
<h2 id="2_choose_where_to_install">2. Choose where to install<a class="headerlink" href="#2_choose_where_to_install" title="Permanent link">#</a></h2>
<p>Whether you plan to install OpenBoxes on-premise or in the cloud, the installation instructions should be the same. 
However, getting to a place </p>
<h3 id="cloud">Cloud<a class="headerlink" href="#cloud" title="Permanent link">#</a></h3>
<p>Here are a few options for cheapish cloud hosting providers.</p>
<table>
<thead>
<tr>
<th>Hosting Provider</th>
<th>Instance Type</th>
<th>Monthly Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.digitalocean.com/pricing/">Digital Ocean droplet</a></td>
<td>Droplet 2GB</td>
<td>$10</td>
</tr>
<tr>
<td><a href="http://www.ec2instances.info/">Amazon Web Services EC2</a></td>
<td>t2.small 2GB</td>
<td>$20</td>
</tr>
<tr>
<td><a href="https://cloud.google.com/compute/pricing">Google Compute Engine</a></td>
<td>g1-small 1.7GB</td>
<td>$20</td>
</tr>
<tr>
<td><a href="https://rimuhosting.com/order/v2orderstart.jsp">RimuHosting</a></td>
<td>Customizable VPS</td>
<td>$20</td>
</tr>
<tr>
<td><a href="https://www.linode.com/pricing">Linode</a></td>
<td>Linode 2GB</td>
<td>$10</td>
</tr>
</tbody>
</table>
<p>NOTE: AWS has a free-tier that includes a free year of 750 hours per month for t2.micro EC2 instances (as well as other 
services). It's a great deal it if you're not going to be using OpenBoxes too heavily. Unfortunately, keeping a 
Java-based web application like OpenBoxes happy on a t2.micro (1GB of RAM) is not easy. You may need to reduce the heap 
size and perm generation memory allocated to Tomcat to something minimal (see step 5 for more details).</p>
<h3 id="on-premise">On-Premise<a class="headerlink" href="#on-premise" title="Permanent link">#</a></h3>
<p>Installing OpenBoxes on-premise requires a bit of work to install the appropriate Ubuntu version on the rack-mounted 
server, desktop, or laptop that you've designated as your server. Our installation docs will not describe how to install 
Ubuntu 16.04 Desktop or Server, so you'll need to consult Ubuntu docs. Here are a few tutorials that might be helpful.</p>
<ul>
<li><a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop-1604#0">How to install Ubuntu 16.04 Desktop</a></li>
<li><a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server-1604#0">How to install Ubuntu 16.04 Server</a></li>
</ul>
<h2 id="3_install_dependencies">3. Install dependencies<a class="headerlink" href="#3_install_dependencies" title="Permanent link">#</a></h2>
<h3 id="31_update_package_information">3.1 Update package information<a class="headerlink" href="#31_update_package_information" title="Permanent link">#</a></h3>
<pre><code>sudo apt-get update
</code></pre>

<h3 id="32_upgrade_packages_already_installed">3.2 Upgrade packages already installed<a class="headerlink" href="#32_upgrade_packages_already_installed" title="Permanent link">#</a></h3>
<pre><code>sudo apt-get upgrade
</code></pre>

<h3 id="33_install_java_7">3.3 Install Java 7<a class="headerlink" href="#33_install_java_7" title="Permanent link">#</a></h3>
<p>You must install a Java 7 JRE/JDK. Unfortunately, the APT Repository on Ubuntu 16.04 does not include a version 
of the Java 7 JRE or JDK so we'll need to do some work to get this working. I would personally recommend 
<strong>Option 2</strong> below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the time being, you <strong>MUST</strong> use Java 7! The version of Grails that we're using does not support Java 8+ or 
beyond. We are working on upgrading to the latest version of Grails, but we're still several months away from 
completing that migration. </p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In case it wasn't clear from the box above this means you should NOT attempt to install the <code>default-jre</code>, 
<code>openjdk-8-jre</code>, or <code>openjdk-9-jre</code> packages from the APT repository. </p>
<p>Grails 1.3.9 does not support Java 8+ so Tomcat will fail to deploy OpenBoxes. 
When it fails, you will send an email to 
<a href="support@openboxes.com">support@openboxes.com</a> asking why the installation failed. When we receive your email, 
we will point you back to the little blue box that you ignored. Don't be that person.</p>
</div>
<h4 id="choose_your_choice">Choose your choice<a class="headerlink" href="#choose_your_choice" title="Permanent link">#</a></h4>
<p>See the following <a href="https://askubuntu.com/questions/761127/how-do-i-install-openjdk-7-on-ubuntu-16-04-or-higher">StackExchange question</a> for more details </p>
<ul>
<li>
<p><a href="https://askubuntu.com/a/803616">Option 1: Manual Installation</a> <strong>(not recommended)</strong> You can certainly use this solution, but I had some trouble getting it to work so I would not recommend it. See </p>
</li>
<li>
<p><a href="https://askubuntu.com/a/803616">Option 2: Automatic Installation</a> <strong>(recommended)</strong> 
    I would recommend this solution. It's a little more complex but seems to behave as you'd expect when installing 
from the APT repository.</p>
</li>
<li>
<p><a href="https://askubuntu.com/a/761527">Option 3: Oracle Java</a> <strong>(not not recommended)</strong><sup id="fnref2:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>
This would probably be a recommended option, but Oracle ended public support for JDK 7 along time ago.</p>
</li>
<li>
<p><a href="https://askubuntu.com/a/840945">Option 4: Install from Zulu Linux</a> <strong>(not not recommended)</strong><sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>
This seems like an ok option if you're comfortable manually install Debian packages - it's pretty straightforward.</p>
</li>
<li>
<p><a href="https://askubuntu.com/a/761527">Option 5: Install from an unsupported package maintainer</a> <strong>(not recommended)</strong>
This is probably the easiest solution, but also the least secure. Your friends will call you names.</p>
</li>
<li>
<p><a href="https://askubuntu.com/a/1059859">Option 6: Use docker</a> <strong>(recommended)</strong> I would recommend using docker, but unfortunately do not have any instructions to share at this time.</p>
</li>
</ul>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Do not use Option 5 in production. Do not use this solution unless you are in a rush and either plan to do it 
properly when you have time or you plan to throw away this server after evaluating OpenBoxes. </p>
</div>
<h4 id="configure_java_version">Configure Java version<a class="headerlink" href="#configure_java_version" title="Permanent link">#</a></h4>
<pre><code>$ sudo update-alternatives --config java
There is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java
Nothing to configure.
</code></pre>

<h4 id="check_java_version">Check Java version<a class="headerlink" href="#check_java_version" title="Permanent link">#</a></h4>
<p>Make sure you see something like <code>java version 1.7.0_xyz</code>.</p>
<pre><code>$ java -version
java version &quot;1.7.0_161&quot;
OpenJDK Runtime Environment (IcedTea 2.6.12) (7u161-2.6.12-1)
OpenJDK 64-Bit Server VM (build 24.161-b01, mixed mode)
</code></pre>

<hr />
<h3 id="34_tomcat">3.4 Tomcat<a class="headerlink" href="#34_tomcat" title="Permanent link">#</a></h3>
<h4 id="install_tomcat_7">Install Tomcat 7<a class="headerlink" href="#install_tomcat_7" title="Permanent link">#</a></h4>
<p>Because we're using Java 7, we need to install a version of Tomcat that has been compiled with Java 7. Otherwise, you'll
encounter the following error when deploying OpenBoxes.</p>
<pre><code>2018-10-31 12:44:45,463 [localhost-startStop-1] INFO  xml.XmlBeanDefinitionReader  - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2018-10-31 12:44:46,299 [localhost-startStop-1] ERROR context.ContextLoader  - Context initialization failed
org.springframework.beans.factory.access.BootstrapException: Error executing bootstraps; nested exception is java.lang.NoSuchMethodError: java.util.concurrent.ConcurrentHashMap.keySet()Ljava/util/concurrent/ConcurrentHashMap$KeySetView;
  at org.codehaus.groovy.grails.web.context.GrailsContextLoader.createWebApplicationContext(GrailsContextLoader.java:87)
  at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)
  at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
  at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5068)
  at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5584)
  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)
  at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:899)
  at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875)
  at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)
  at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1091)
  at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1980)
  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
  at java.util.concurrent.FutureTask.run(FutureTask.java:262)
  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
  at java.lang.Thread.run(Thread.java:745)
</code></pre>

<div class="admonition note">
<p class="admonition-title">Important</p>
<p>Tomcat 7 in the APT repository was compiled with Java 8, which causes the aforementioned error during deployment.</p>
</div>
<h4 id="references">References<a class="headerlink" href="#references" title="Permanent link">#</a></h4>
<ul>
<li><a href="https://whiscardz.wordpress.com/tag/java7-tomcat-7-on-ubuntu-16-04/">https://whiscardz.wordpress.com/tag/java7-tomcat-7-on-ubuntu-16-04/</a></li>
<li><a href="https://www.techrepublic.com/article/how-to-install-apache-tomcat-on-ubuntu-server-16-04/">https://www.techrepublic.com/article/how-to-install-apache-tomcat-on-ubuntu-server-16-04/</a></li>
</ul>
<h4 id="getting_started">Getting Started<a class="headerlink" href="#getting_started" title="Permanent link">#</a></h4>
<ul>
<li>Go to the <a href="https://tomcat.apache.org/download-70.cgi">Tomcat Downloads</a> page</li>
<li>Choose a mirror (or leave the default)</li>
<li>Right-click on the Core tar.gz link (paste in step 3 below)</li>
</ul>
<h4 id="download_and_unpack">Download and unpack<a class="headerlink" href="#download_and_unpack" title="Permanent link">#</a></h4>
<pre><code>$ sudo mkdir /opt/tomcat
$ cd /opt/tomcat
$ sudo wget http://mirror.metrocast.net/apache/tomcat/tomcat-7/v7.0.91/bin/apache-tomcat-7.0.91.tar.gz
$ sudo tar xvzf apache-tomcat-7.0.91.tar.gz
</code></pre>

<h4 id="create_user_group_and_change_permissions">Create user, group and change permissions<a class="headerlink" href="#create_user_group_and_change_permissions" title="Permanent link">#</a></h4>
<pre><code>$ sudo groupadd tomcat
$ sudo useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat 
$ cd apache-tomcat-7.0.91
$ sudo chgrp -R tomcat /opt/tomcat
$ sudo chown -R tomcat:tomcat /opt/tomcat
$ sudo chown -R tomcat webapps/ work/ temp/ logs/ conf/
</code></pre>

<h4 id="create_service">Create service<a class="headerlink" href="#create_service" title="Permanent link">#</a></h4>
<pre><code>sudo vi /etc/systemd/system/tomcat.service
</code></pre>

<p><em>tomcat.service</em></p>
<pre><code>[Unit]
Description=Apache Tomcat Web Application Container
After=network.target

[Service]
Type=forking

Environment=JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64/jre
Environment=CATALINA_PID=/opt/tomcat/apache-tomcat-7.0.91/temp/tomcat.pid
Environment=CATALINA_HOME=/opt/tomcat/apache-tomcat-7.0.91
Environment=CATALINA_BASE=/opt/tomcat/apache-tomcat-7.0.91
Environment='CATALINA_OPTS=-Xms512m -Xmx512m -server -XX:+UseParallelGC'
Environment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom'

ExecStart=/opt/tomcat/apache-tomcat-7.0.91/bin/startup.sh
ExecStop=/opt/tomcat/apache-tomcat-7.0.91/bin/shutdown.sh

User=tomcat
Group=tomcat
UMask=0007
RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will likely encounter OutOfMemoryErrors with Tomcat's default memory settings.  </p>
<p>You may be able to get away with using 256m as the max heap size, but 512m is a good setting, even for production environments.  Using more memory will allow you to cache more data, but does not always result in a better performing application.  So there's no need in getting carried away.  We've been using about 1024m in production for over a year and that suits us fine.    </p>
</div>
<p>If you are in a limited memory environment (like an EC2 t2.micro which only has 1GB of memory) you will need to reduce 
your memory settings a little more. </p>
<pre><code>Environment='CATALINA_OPTS=-Xms128m -Xmx256m -XX:MaxPermSize=128m -Djava.security.egd=file:/dev/./urandom -server -XX:+UseParallelGC'
</code></pre>

<p>Unfortunately, with so little memory allocated you will probably run into several types of OutOfMemoryError issues 
(see Troublshooting section below).</p>
<h4 id="register_service">Register service<a class="headerlink" href="#register_service" title="Permanent link">#</a></h4>
<pre><code>sudo systemctl daemon-reload
</code></pre>

<h4 id="start_tomcat">Start Tomcat<a class="headerlink" href="#start_tomcat" title="Permanent link">#</a></h4>
<pre><code>systemctl start tomcat
</code></pre>

<h4 id="systemctl_commands">Systemctl commands<a class="headerlink" href="#systemctl_commands" title="Permanent link">#</a></h4>
<pre><code>systemctl start tomcat
systemctl stop tomcat
systemctl status tomcat
</code></pre>

<h4 id="service_wrapper">Service wrapper<a class="headerlink" href="#service_wrapper" title="Permanent link">#</a></h4>
<p>At this point I generally go back to using the Ubuntu's <code>service</code> wrapper which abstracts the underlying implementation 
(could be <code>/etc/init.d</code>, Upstart, or <code>systemctl</code>). But it's up to you whether you want to continue using <code>systemctl</code> 
or switch back to <code>service</code>.</p>
<p>Here are the commands available if using the <code>service</code> wrapper:</p>
<pre><code>sudo service tomcat status
sudo service tomcat stop
sudo service tomcat start
sudo service tomcat restart
</code></pre>

<h4 id="configure_tomcat_manager_optional">Configure Tomcat manager <strong>(optional)</strong><a class="headerlink" href="#configure_tomcat_manager_optional" title="Permanent link">#</a></h4>
<p>This configuration can be used to make future upgrades through the Tomcat manager web interface. Make sure the file is 
only readable by root and/or the user that runs Tomcat. Replace <manager-gui-\*> and <manager-script-\*> with 
appropriate values. See Tomcat docs for more information 
(https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Configuring_Manager_Application_Access).</p>
<p><em>/opt/tomcat/apache-tomcat-7.0.91/conf/tomcat-users.xml</em></p>
<pre><code>&lt;tomcat-users&gt;
  &lt;role rolename=&quot;manager-gui&quot;/&gt;
  &lt;role rolename=&quot;manager-script&quot;/&gt;
  &lt;role rolename=&quot;manager-jmx&quot;/&gt;
  &lt;role rolename=&quot;manager-status&quot;/&gt;
  &lt;user username=&quot;&lt;GUI-USERNAME&gt;&quot; password=&quot;&lt;GUI-PASSWORD&gt;&quot; roles=&quot;manager-gui&quot;/&gt;
  &lt;user username=&quot;&lt;SCRIPT-USERNAME&gt;&quot; password=&quot;&lt;SCRIPT-PASSWORD&gt;&quot; roles=&quot;manager-script&quot;/&gt;
&lt;/tomcat-users&gt;
</code></pre>

<p>NOTE: Please don't use obvious passwords (i.e. tomcat, password, s3cret, etc) because your server will get exploited. </p>
<hr />
<h3 id="35_mysql">3.5 MySQL<a class="headerlink" href="#35_mysql" title="Permanent link">#</a></h3>
<h4 id="install_mysql_server">Install MySQL Server<a class="headerlink" href="#install_mysql_server" title="Permanent link">#</a></h4>
<p>Install MySQL from the APT repository. Finally, something easy!</p>
<pre><code>sudo apt-get install mysql-server
</code></pre>

<div class="admonition note">
<p class="admonition-title">Important</p>
<p>Remember the password you enter for the <code>root</code> user.</p>
</div>
<h4 id="configure_mysql_server">Configure MySQL Server<a class="headerlink" href="#configure_mysql_server" title="Permanent link">#</a></h4>
<h5 id="allow_external_connections_optional">Allow external connections [optional]<a class="headerlink" href="#allow_external_connections_optional" title="Permanent link">#</a></h5>
<p>If you need to allow external connections to MySQL then you'll need to edit the bind-address mysqld configuration. 
This is a security risk so please ensure that you set passwords and grant permissions in a way that does not leave
you vulnerable to attacks.</p>
<p><strong>/etc/mysql/mysql.conf.d/mysqld.cnf</strong></p>
<pre><code># Instead of skip-networking the default is now to listen only on
# localhost which is more compatible and is not less secure.
#bind-address           = 127.0.0.1
bind-address            = 0.0.0.0
</code></pre>

<h5 id="this_is_incompatible_with_sql_modeonly_full_group_by_recommended">This is incompatible with sql_mode=only_full_group_by [recommended]<a class="headerlink" href="#this_is_incompatible_with_sql_modeonly_full_group_by_recommended" title="Permanent link">#</a></h5>
<div class="admonition note">
<p class="admonition-title">Important</p>
<p>You may encounter an error when using the default mysql-server package (MySQL 5.7). The error (below) requires
a configuration change within MySQL. </p>
</div>
<pre><code>Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 
'openboxes.tag.id' which is not functionally dependent on columns in GROUP BY clause; this 
is incompatible with sql_mode=only_full_group_by
</code></pre>

<p>This error is caused by the fact that ONLY_FULL_GROUP_BY is enabled in MySQL 5.7 by default. </p>
<pre><code>mysql&gt; show variables like '%sql_mode%';
+---------------+-------------------------------------------------------------------------------------------------------------------------------------------+
| Variable_name | Value                                                                                                                                     |
+---------------+-------------------------------------------------------------------------------------------------------------------------------------------+
| sql_mode      | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
+---------------+-------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)
</code></pre>

<p>In order to this avoid error, please copy the <code>sql_mode</code> value above, remove the <code>ONLY_FULL_GROUP_BY</code> option and add 
it as a new line under the <code>[mysqld]</code> section within <code>/etc/alternatives/my.cnf</code>.</p>
<pre><code>[mysqld]
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Eventually we plan to fix the bug, but for now the config change is recommended.</p>
</div>
<h4 id="restart_mysql">Restart MySQL<a class="headerlink" href="#restart_mysql" title="Permanent link">#</a></h4>
<pre><code>sudo service mysql restart
</code></pre>

<h4 id="create_database">Create database<a class="headerlink" href="#create_database" title="Permanent link">#</a></h4>
<pre><code>$ mysql -u root -p -e 'create database openboxes default charset utf8;'
</code></pre>

<h4 id="grant_permissions_to_new_new_database_user">Grant permissions to new new database user<a class="headerlink" href="#grant_permissions_to_new_new_database_user" title="Permanent link">#</a></h4>
<pre><code>mysql -u root -p -e 'grant all on openboxes.* to '&lt;username&gt;'@'localhost' identified by &quot;&lt;password&gt;&quot;;'
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For security reasons, you will want to set a good password.  These values should be used in the 
<code>dataSource.username</code> and <code>dataSource.password</code> configuration properties in <code>openboxes-config.properties</code>.</p>
</div>
<hr />
<h3 id="36_configure_environment">3.6 Configure Environment<a class="headerlink" href="#36_configure_environment" title="Permanent link">#</a></h3>
<p>Determine the path to Java </p>
<pre><code>$ sudo update-java-alternatives --list
java-1.7.0-openjdk-amd64       1071       /usr/lib/jvm/java-1.7.0-openjdk-amd64
</code></pre>

<p>Add environment variables to <code>~/.bashrc</code></p>
<pre><code>export JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-amd64
export CATALINA_HOME=/opt/tomcat/apache-tomcat-7.0.91
</code></pre>

<p>Refresh environment</p>
<pre><code>. ~/.bashrc
</code></pre>

<hr />
<h3 id="37_configure_application">3.7 Configure application<a class="headerlink" href="#37_configure_application" title="Permanent link">#</a></h3>
<h4 id="create_openboxes-configproperties_file">Create openboxes-config.properties file<a class="headerlink" href="#create_openboxes-configproperties_file" title="Permanent link">#</a></h4>
<pre><code>cd /opt/tomcat
sudo mkdir /opt/tomcat/.grails
sudo vi /opt/tomcat/.grails/openboxes-config.properties
</code></pre>

<h4 id="copy_the_following_contents_into_opneboxes-configproperties">Copy the following contents into opneboxes-config.properties<a class="headerlink" href="#copy_the_following_contents_into_opneboxes-configproperties" title="Permanent link">#</a></h4>
<p><strong>/opt/tomcat/.grails/openboxes-config.properties</strong></p>
<pre><code># Database connection settings
dataSource.username=&lt;username&gt;
dataSource.password=&lt;password&gt;

# Example of a simple JDBC URL (not to be used in production)
dataSource.url=jdbc:mysql://localhost:3306/openboxes

# Example of a more complex JDBC URL (used in our ccurent production environment)
#dataSource.url=jdbc:mysql://localhost:3306/openboxes?autoReconnect=true&amp;zeroDateTimeBehavior=convertToNull&amp;sessionVariables=storage_engine=InnoDB

# Used primarily with g:link when absoluteUrl is true (e.g. links in emails)
grails.serverURL=http://localhost:8080/openboxes

# OpenBoxes mail settings - disabled by default (unless you set up an SMTP server)
#grails.mail.enabled=true
</code></pre>

<div class="admonition note">
<p class="admonition-title">Reminder</p>
<p>Change <code>dataSource.username</code> and <code>dataSource.password</code> to the <code>username</code> and <code>password</code> you set in the <code>grant all</code> command above.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Reminder</p>
<p>Change <code>grails.serverURL</code> to the IP address or domain name you plan to use for your server.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Documentation for all available configuration properties is provided in the Configuration section.</p>
</div>
<hr />
<h3 id="38_deployment">3.8 Deployment<a class="headerlink" href="#38_deployment" title="Permanent link">#</a></h3>
<h4 id="stop_tomcat">Stop tomcat<a class="headerlink" href="#stop_tomcat" title="Permanent link">#</a></h4>
<pre><code>$ sudo service tomcat stop
</code></pre>

<h4 id="download_latest_release">Download latest release<a class="headerlink" href="#download_latest_release" title="Permanent link">#</a></h4>
<ol>
<li>Go to the the <a href="https://github.com/openboxes/openboxes/releases/latest">latest release</a> page on GitHub.</li>
<li>Right-click on <code>openboxes.war</code> </li>
<li>Select <strong>Copy link address</strong></li>
<li>Paste the link address in the following command</li>
</ol>
<pre><code>$ sudo wget https://github.com/openboxes/openboxes/releases/download/&lt;version&gt;/openboxes.war
</code></pre>

<h4 id="copy_war_file_to_webapps">Copy WAR file to webapps<a class="headerlink" href="#copy_war_file_to_webapps" title="Permanent link">#</a></h4>
<pre><code>$ sudo cp openboxes.war /opt/tomcat/apache-tomcat-7.0.91/webapps/openboxes.war
</code></pre>

<h4 id="change_file_ownership">Change file ownership<a class="headerlink" href="#change_file_ownership" title="Permanent link">#</a></h4>
<pre><code>$ sudo chown tomcat:tomcat /opt/tomcat/apache-tomcat-7.0.91/webapps/openboxes.war
</code></pre>

<h4 id="restart_tomcat">Restart Tomcat<a class="headerlink" href="#restart_tomcat" title="Permanent link">#</a></h4>
<pre><code>$ sudo service tomcat start
</code></pre>

<h4 id="watch_tomcat_logs">Watch Tomcat logs<a class="headerlink" href="#watch_tomcat_logs" title="Permanent link">#</a></h4>
<p>The deployment will take about 10-20 minutes the first time because the application needs to perform hundreds of
database migrations. Keep an eye out for any errors/exceptions that pop up in the <code>catalina.out</code> log file and check 
the Troubleshooting section for details on how to handle these issues.</p>
<pre><code>$ sudo tail -f /opt/tomcat/apache-tomcat-7.0.91/logs/catalina.out
</code></pre>

<hr />
<h3 id="39_troubleshooting">3.9 Troubleshooting<a class="headerlink" href="#39_troubleshooting" title="Permanent link">#</a></h3>
<h4 id="unable_to_load_specified_config_location">Unable to load specified config location<a class="headerlink" href="#unable_to_load_specified_config_location" title="Permanent link">#</a></h4>
<p>You can ignore these errors because these files are only used to override the default <code>openboxes-config.properties</code>.</p>
<pre><code>Using configuration locations [classpath:openboxes-config.properties, classpath:openboxes-config.groovy, file:/opt/tomcat/.grails/openboxes-config.properties, file:/opt/tomcat/.grails/openboxes-config.groovy] [production]
Unable to load specified config location classpath:openboxes-config.properties : class path resource [openboxes-config.properties] cannot be opened because it does not exist
Unable to load specified config location classpath:openboxes-config.groovy : class path resource [openboxes-config.groovy] cannot be opened because it does not exist
Unable to load specified config location file:/opt/tomcat/.grails/openboxes-config.groovy : /opt/tomcat/.grails/openboxes-config.groovy (No such file or directory)
</code></pre>

<p>However, if the log shows that the following file could not be found, then we might have a problem. Check that the 
file exists and that the ownership and permissions on this file allow the <code>tomcat</code> user to read it.</p>
<pre><code>Unable to load specified config location file:/opt/tomcat/.grails/openboxes-config.properties : /opt/tomcat/.grails/openboxes-config.properties (No such file or directory)
</code></pre>

<h4 id="java_outofmemoryerror">Java OutOfMemoryError<a class="headerlink" href="#java_outofmemoryerror" title="Permanent link">#</a></h4>
<p>The following errors are related to the <code>-Xms</code> (min heap), <code>-Xmx</code> (max heap) , and <code>-XX:MaxPermSize=256m</code> 
(max perm gen space) memory settings. These errors indicate that the heap / permgen memory spaces are not allocated 
appropriately and/or there's a memory leak in the application. </p>
<ul>
<li>Heap space (<code>OutOfMemoryError: Java heap space</code>)</li>
<li>PermGen (<code>OutOfMemoryError: PermGen space</code>)</li>
</ul>
<p>See [this article] (https://plumbr.eu/outofmemoryerror/java-heap-space) for a good description of the problem. 
Contact <a href="support@openboxes.com">support@openboxes.com</a> if you have further questions.</p>
<h4 id="out_of_memory_killed_process_31088_java">Out of Memory: Killed process 31088 (java)<a class="headerlink" href="#out_of_memory_killed_process_31088_java" title="Permanent link">#</a></h4>
<p>In this case, the Linux kernel has killed your Tomcat instance because it over stepped the OS bounds on memory. At 
this point, you may have increased the max heap size as much as you can. This probably means you need to upgrade to a 
larger instance type (i.e. as we mentioned above, an instance type that has 2GB of memory is a good start).</p>
<h4 id="javaiofilenotfoundexception_stacktracelog_permission_denied">java.io.FileNotFoundException: stacktrace.log (Permission denied)<a class="headerlink" href="#javaiofilenotfoundexception_stacktracelog_permission_denied" title="Permanent link">#</a></h4>
<p>You can safely ignore this error. </p>
<pre><code>log4j:ERROR setFile(null,true) call failed.
java.io.FileNotFoundException: stacktrace.log (Permission denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:221)
    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:142)
    at org.apache.log4j.FileAppender.setFile(FileAppender.java:294)
    at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)
    at org.apache.log4j.spi.OptionHandler$activateOptions.call(Unknown Source)
    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:40)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:120)
    at org.codehaus.groovy.grails.plugins.logging.Log4jConfig.createFullstackTraceAppender(Log4jConfig.groovy:177)
    at org.codehaus.groovy.grails.plugins.logging.Log4jConfig.this$2$createFullstackTraceAppender(Log4jConfig.groovy)
    at org.codehaus.groovy.grails.plugins.logging.Log4jConfig$this$2$createFullstackTraceAppender.callCurrent(Unknown Source)
    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:44)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:145)
    at org.codehaus.groovy.grails.plugins.logging.Log4jConfig.configure(Log4jConfig.groovy:145)
    at org.codehaus.groovy.grails.web.util.Log4jConfigListener.contextInitialized(Log4jConfigListener.java:62)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5157)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5680)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1018)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:994)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1127)
    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:2021)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:473)
    at java.util.concurrent.FutureTask.run(FutureTask.java:262)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1152)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:622)
    at java.lang.Thread.run(Thread.java:748)
</code></pre>

<h4 id="could_not_connect_to_smtp_host_localhost_port_25">Could not connect to SMTP host: localhost, port: 25;<a class="headerlink" href="#could_not_connect_to_smtp_host_localhost_port_25" title="Permanent link">#</a></h4>
<p>By default, the system assumes that there's an SMTP server listening on port 25 so that it can send exceptions to
<code>errors@openboxes.com</code>. This should probably be disabled by default. For now you can just ignore these errors.</p>
<pre><code>javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 25;
  nested exception is:
    java.net.ConnectException: Connection refused (Connection refused)
</code></pre>

<h4 id="mysqlsyntaxerrorexception_unknown_column_this_created_by_id_in_field_list">MySQLSyntaxErrorException: Unknown column 'this_.created_by_id' in 'field list'<a class="headerlink" href="#mysqlsyntaxerrorexception_unknown_column_this_created_by_id_in_field_list" title="Permanent link">#</a></h4>
<p>This is related to a bug / limitation with the Quartz scheduler. By default we can only limit the Quartz 
scheduler from starting tasks for up to X seconds. We cannot set dependencies such as 
"when the database has been created". Because of this limitation, the Quartz scheduler triggers all jobs during 
the application bootstrapping and before the database migrations have been completed. Therefore, some Quartz jobs
which depend on the database are executed before the database is ready. Hence the "Unknown column" errors.</p>
<p>Related issues:
<em> https://github.com/openboxes/openboxes/issues/26
</em> https://github.com/openboxes/openboxes/issues/259</p>
<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'this_.created_by_id' in 'field list'
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.Util.getInstance(Util.java:386)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4190)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4122)
    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2570)
    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2731)
    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2818)
    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2157)
    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2324)
    at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:76)
    at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
    at org.hibernate.loader.Loader.getResultSet(Loader.java:1808)
    at org.hibernate.loader.Loader.doQuery(Loader.java:697)
    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)
    at org.hibernate.loader.Loader.doList(Loader.java:2228)
    ... 75 more
</code></pre>

<p>Once the database migration process has completed you should stop seeing these errors and the logs will 
show that the deployment has completed successfully.</p>
<pre><code>...
2018-11-16 18:11:25,783 [localhost-startStop-1] INFO  liquibase  - Release Database Lock
2018-11-16 18:11:25,784 [localhost-startStop-1] INFO  liquibase  - Successfully released change log lock
2018-11-16 18:11:26,583 [localhost-startStop-1] INFO  bootstrap.BootStrap  - Finished running liquibase changelog(s)!
2018-11-16 18:11:26,584 [localhost-startStop-1] INFO  bootstrap.BootStrap  - Insert test fixtures?  true
2018-11-16 18:11:26,585 [localhost-startStop-1] INFO  bootstrap.BootStrap  - Inserting test fixtures ...
2018-11-16 18:11:26,598 [localhost-startStop-1] INFO  bootstrap.BootStrap  - Creating uploads directory if it doesn't already exist
2018-11-16 18:11:26,598 [localhost-startStop-1] INFO  context.ContextLoader  - Root WebApplicationContext: initialization completed in 523311 ms
Nov 16, 2018 6:11:26 PM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deployment of web application archive /opt/tomcat/apache-tomcat-7.0.91/webapps/openboxes.war has finished in 545,140 ms
Nov 16, 2018 6:11:27 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]
Nov 16, 2018 6:11:27 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]
Nov 16, 2018 6:11:27 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 546085 ms
</code></pre>

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>You read that correctly. I wrote "not not recommended", which is a double negative meaning 
"we're not recommending it, but we're also not not recommending it."&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ubuntu1804/troubleshooting/" title="Troubleshooting" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Troubleshooting
              </span>
            </div>
          </a>
        
        
          <a href="../ubuntu1404/" title="Ubuntu 14.04" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Ubuntu 14.04
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2010-2019, OpenBoxes
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-37396941-2","openboxes.com"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>